#
# This file is auto-generated. DO NOT EDIT
# Generated by: autospec.py
#
Name     : earlyoom
Version  : 1.4
Release  : 7
URL      : https://github.com/rfjakob/earlyoom/archive/v1.4/earlyoom-1.4.tar.gz
Source0  : https://github.com/rfjakob/earlyoom/archive/v1.4/earlyoom-1.4.tar.gz
Summary  : Early OOM Daemon for Linux
Group    : Development/Tools
License  : MIT
Requires: earlyoom-license = %{version}-%{release}
BuildRequires : buildreq-golang
BuildRequires : pandoc
Patch1: 0001-Add-clear-telemetry-example.patch
Patch2: 0002-Clear-Telemetry-earlyoom-probe.patch

%description
earlyoom - The Early OOM Daemon
===============================
[![Build Status](https://api.travis-ci.org/rfjakob/earlyoom.svg)](https://travis-ci.org/rfjakob/earlyoom)
[![MIT License](https://img.shields.io/badge/license-MIT-blue.svg)](LICENSE)
[![Latest release](https://img.shields.io/github/release/rfjakob/earlyoom.svg)](https://github.com/rfjakob/earlyoom/releases)
[![Total alerts](https://img.shields.io/lgtm/alerts/g/rfjakob/earlyoom.svg?logo=lgtm&logoWidth=18)](https://lgtm.com/projects/g/rfjakob/earlyoom/alerts/)
[![Language grade: C/C++](https://img.shields.io/lgtm/grade/cpp/g/rfjakob/earlyoom.svg?logo=lgtm&logoWidth=18)](https://lgtm.com/projects/g/rfjakob/earlyoom/context:cpp)

%package license
Summary: license components for the earlyoom package.
Group: Default

%description license
license components for the earlyoom package.


%prep
%setup -q -n earlyoom-1.4
cd %{_builddir}/earlyoom-1.4
%patch1 -p1
%patch2 -p1

%build
export http_proxy=http://127.0.0.1:9/
export https_proxy=http://127.0.0.1:9/
export no_proxy=localhost,127.0.0.1,0.0.0.0
export LANG=C.UTF-8
export GOPATH="$PWD"
go build

%install
rm -rf %{buildroot}
mkdir -p %{buildroot}/usr/share/package-licenses/earlyoom
cp %{_builddir}/earlyoom-1.4/LICENSE %{buildroot}/usr/share/package-licenses/earlyoom/49c65c4ad5a142b45b01486ac9df8f15d9d6d30b

## install_append content
#install -D %{buildroot}/etc/default/earlyoom %{buildroot}/usr/share/defaults/earlyoom/earlyoom
#install -D %{buildroot}/etc/systemd/system/earlyoom.service %{buildroot}/usr/lib/systemd/system/earlyoom.service
#install -m0755 earlyoom-clr-telemetry %{buildroot}/usr/bin/earlyoom-clr-telemetry
## install_append end

%files
%defattr(-,root,root,-)

%files license
%defattr(0644,root,root,0755)
/usr/share/package-licenses/earlyoom/49c65c4ad5a142b45b01486ac9df8f15d9d6d30b
